<div class="flex md:flex-row h-screen">
  <!-- Left side image (hidden on mobile) -->
  <div class="hidden md:flex w-1/2 h-full items-center justify-center bg-gray-100">
    <img src="assets/images/Login.png" alt="Quiz Blocks" class="h-full w-auto object-cover" />
  </div>

  <!-- Right side form -->
  <div class="w-full md:w-1/2 flex items-center justify-center relative px-4">
    <button
      type="button"
      class="absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl font-bold z-10"
      (click)="onClose()"
      aria-label="Fermer"
    >
      &times;
    </button>
    <form class="w-full max-w-md space-y-6" (ngSubmit)="onSubmit()">
      <h2 class="text-center text-2xl font-bold text-primary-darker">S'inscrire</h2>

      <div class="flex flex-col space-y-2">
        <label class="block text-primary-dark">Photo de profil</label>
        <!-- Hidden file input -->
        <input
          type="file"
          id="profile"
          accept="image/*"
          (change)="onFileSelected($event)"
          class="hidden"
        />
        <!-- Clickable image area -->
        <label
          for="profile"
          class="flex items-center space-x-4 cursor-pointer"
        >
          <div class="w-10 h-10 rounded-full overflow-hidden bg-blue-100 flex items-center justify-center border border-dashed border-gray-300">
            <img
              *ngIf="profileImage"
              [src]="profileImage"
              alt="Preview"
              class="object-cover w-full h-full"
            />
            <svg
              *ngIf="!profileImage"
              class="w-6 h-6 text-blue-600"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
          <span class="text-sm text-gray-500">Choisir une image</span>
        </label>
      </div>

      <div class="space-y-2">
        <label for="username" class="block text-primary-dark">Nom d'utilisateur</label>
        <input
          id="username"
          type="text"
          [(ngModel)]="username"
          name="username"
          class="w-full px-4 py-2 rounded-md bg-primary-tint focus:outline-none focus:ring-2 focus:ring-primary-focus-ring"
        />
      </div>

      <div class="relative">
        <label for="password" class="block text-primary-dark">Mot de passe</label>
        <input
          id="password"
          [type]="showPassword ? 'text' : 'password'"
          [(ngModel)]="password"
          name="password"
          class="w-full px-4 py-2 rounded-md bg-primary-tint focus:outline-none focus:ring-2 focus:ring-primary-focus-ring"
        />
        <button
          type="button"
          class="absolute right-2 top-9 text-gray-500"
          (click)="togglePassword()"
        >
          ğŸ‘
        </button>
      </div>

      <button
        type="submit"
        class="w-full py-2 rounded-md bg-primary hover:bg-primary-dark text-white font-semibold"
      >
        s'inscrire
      </button>
    </form>
  </div>
</div>